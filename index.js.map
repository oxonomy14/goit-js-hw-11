{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/loader.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('#search-form'),\n  searchText: document.querySelector('.search-form-input'),\n  btnSearch: document.querySelector('.search-btn'),\n  imageList: document.querySelector('.image-search-list'),\n};\n","import { refs } from './refs';\n//import { galleryBox } from '../main';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderSearchImages(images) {\n  const markup = images\n    .map(image => {\n      return `<li class=\"image-search-list\">\n              <div class=\"image-search-box\">\n               <a \n                href=\"${image.largeImageURL}\">\n                <img\n                  class=\"image-search-img\"\n                  src=\"${image.webformatURL}\"\n                  alt=\"${image.tags}\"\n                  title=\"${image.tags}\"\n                />\n                </a>\n                <div class=\"image-search-descr\">\n                  <ul class=\"image-search-descr-list\">\n                    <li class=\"image-search-descr-item\">\n                      <h3 class=\"image-search-descr-subtitle\">Likes</h3>\n                      <p class=\"image-search-descr-txt\">${image.likes}</p>\n                    </li>\n                    <li class=\"image-search-descr-item\">\n                      <h3 class=\"image-search-descr-subtitle\">Views</h3>\n                      <p class=\"image-search-descr-txt\">${image.views}</p>\n                    </li>\n                    <li class=\"image-search-descr-item\">\n                      <h3 class=\"image-search-descr-subtitle\">Comments</h3>\n                      <p class=\"image-search-descr-txt\">${image.comments}</p>\n                    </li>\n                    <li class=\"image-search-descr-item\">\n                      <h3 class=\"image-search-descr-subtitle\">Downloads</h3>\n                      <p class=\"image-search-descr-txt\">${image.downloads}</p>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </li>`;\n    })\n    .join('');\n\n  refs.imageList.insertAdjacentHTML('beforeend', markup);\n\n  // Ініціалізація бібліотеки SimpleLightbox\n  let galleryBox = new SimpleLightbox('.image-search-list a', {\n    captionsData: 'alt', // Витягує підписи із атрибута alt\n    captionDelay: 250, // Затримка появи підпису (в мс)\n  });\n\n  // Оновлення SimpleLightbox, для перезавантаження списку елементів\n  galleryBox.refresh();\n}\n","// Функкції показу/ховання лоадера\nexport function showLoader() {\n  document.querySelector('.loader').style.display = 'block';\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').style.display = 'none';\n}\n","// Your API key: 48017224-d7e819cca6d5953c75e1fff02\nimport { refs } from './refs';\nimport axios from 'axios';\nimport { renderSearchImages } from './render-functions';\nimport { showLoader, hideLoader } from './loader'; // Импорт функций лоадера\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function queryPixabay(query) {\n  const API_KEY = '48017224-d7e819cca6d5953c75e1fff02';\n\n  axios.defaults.baseURL = 'https://pixabay.com';\n\n  const searchParams = new URLSearchParams({\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  showLoader(); // перед завантаженням даних з API-сервера показуємо лоадер\n\n  axios\n    //  .get(`/api/?key=48017224-d7e819cca6d5953c75e1fff02&${searchParams}`)\n    .get(`/api/?key=${API_KEY}&${searchParams}`)\n    .then(serverResponse => {\n      // console.log(serverResponse.data);\n\n      if (Number.parseInt(serverResponse.data.total) > 0) {\n        const images = serverResponse.data.hits;\n        // console.log(images);\n        //console.log(images[0].webformatURL);\n        renderSearchImages(images); //створюємо розмітку і прорисовуємо на веб-сторінці\n      } else {\n        iziToast.error({\n          title: 'Помилка',\n          message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topCenter',\n          timeout: 5000,\n        });\n        //   window.alert(\n        //     'Sorry, there are no images matching your search query. Please try again!'\n        //   );\n        return;\n      }\n    })\n    .catch(error => console.error('Помилка завантаження:', error))\n    .finally(() => {\n      hideLoader(); // Ховаємо лоадер в будь-якому випадку  (успіх або помилка)\n    });\n}\n","import { queryPixabay } from './js/pixabay-api';\nimport { refs } from './js/refs';\n\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  //console.log('Лог№1 - Кнопка \"Пошук\" натискається');\n\n  refs.imageList.innerHTML = ''; // Перед пошуком за новим ключовим словом повністю очищаємо попередній вміст галереї\n\n  const query = evt.currentTarget.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Помилка',\n      message: `❌ Введіть в поле пошуку пошукову фразу`,\n      position: 'topCenter',\n      timeout: 2500,\n    });\n    //window.alert('Введіть в поле пошуку пошукову фразу');\n    // console.log('Введіть в поле пошуку пошукову фразу');\n    return;\n  } else {\n    // console.log('Пошуковий запит:', query);\n\n    queryPixabay(query); // запит до сервера Pixabay за пошуковою фразою\n  }\n  refs.form.reset();\n}\n"],"names":["refs","renderSearchImages","images","markup","image","SimpleLightbox","showLoader","hideLoader","queryPixabay","query","API_KEY","axios","searchParams","serverResponse","iziToast","error","onFormSubmit","evt"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,WAAY,SAAS,cAAc,oBAAoB,EACvD,UAAW,SAAS,cAAc,aAAa,EAC/C,UAAW,SAAS,cAAc,oBAAoB,CACxD,ECGO,SAASC,EAAmBC,EAAQ,CACzC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA;AAAA,wBAGWA,EAAM,aAAa;AAAA;AAAA;AAAA,yBAGlBA,EAAM,YAAY;AAAA,yBAClBA,EAAM,IAAI;AAAA,2BACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAOqBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0DAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0DAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0DAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMpE,EACA,KAAK,EAAE,EAEVJ,EAAK,UAAU,mBAAmB,YAAaG,CAAM,EAGpC,IAAIE,EAAe,uBAAwB,CAC1D,aAAc,MACd,aAAc,GAClB,CAAG,EAGU,QAAO,CACpB,CCxDO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OACpD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CCEO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAU,qCAEhBC,EAAM,SAAS,QAAU,sBAEzB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEDH,IAEAK,EAEG,IAAI,aAAaD,CAAO,IAAIE,CAAY,EAAE,EAC1C,KAAKC,GAAkB,CAGtB,GAAI,OAAO,SAASA,EAAe,KAAK,KAAK,EAAI,EAAG,CAClD,MAAMX,EAASW,EAAe,KAAK,KAGnCZ,EAAmBC,CAAM,CACjC,KAAa,CACLY,EAAS,MAAM,CACb,MAAO,UACP,QAAS,6EACT,SAAU,YACV,QAAS,GACnB,CAAS,EAID,MACD,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,MAAM,wBAAyBA,CAAK,CAAC,EAC5D,QAAQ,IAAM,CACbR,GACN,CAAK,CACL,CC5CAP,EAAK,KAAK,iBAAiB,SAAUgB,CAAY,EAEjD,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAIlBjB,EAAK,UAAU,UAAY,GAE3B,MAAMS,EAAQQ,EAAI,cAAc,SAAS,MAAM,MAAM,OAErD,GAAKR,EAaHD,EAAaC,CAAK,MAbR,CACVK,EAAS,MAAM,CACb,MAAO,UACP,QAAS,yCACT,SAAU,YACV,QAAS,IACf,CAAK,EAGD,MACJ,CAKEd,EAAK,KAAK,OACZ"}